Smash is built in the open, open-source and adhering to the principles of free software.

- Browse git repos and issues
- Apply for a (free) Smash Developer membership
- Bounties

TODO:
Archi and flow diagrams
Wiki pages (start simple)
At first: most with a waitlist!!/behind wall
- create accounts with @admin.smashchats.com email addresses
	- GitHub, AirTable, LibraPay, OpenCollective/Polar.SH, Crypto?


- identity = key pair (keychain)
	- derive keys for each neighborhood
		- UID, + specific key pair signed with main
			- badges delivered to UID
			- IS UID NEEDED? or JUST KEY PAIR?
		- unidirectional link, up to user to share it all (full chain)
- 


## Specs 0.0.1-alpha.0

### Peers

#### Peer identity 

##### PGP

Peers have a public key (PK) and a private key (pK). They identify them uniquely.

These should never get lost or compromised.

Peers key pairs rely on the well established GPG/PGP protocols.
##### DID and DNS

Peers are identified using a DID. AT proto is used to match a DNS name and a DID.

#### Users

Users are individuals. One individual may have multiple user peer identities.

#### Neighborhoods

Neighborhoods are people servers. They serve to connect a graph of Smash users.

Neighborhoods should not need to access any personal information. They may request the user to voluntarily share some of their private data in order to improve their functionalities.

Neighborhoods are intended to group users by interests, location, and other attributes. Same as real-world neighborhoods, there will be good and bad neighborhoods. They all have their rules/terms of service and may provide specific features. Connections and communities will organically form in these neighborhoods. Once connected, users should not require any neighborhood to communicate.

##### Sign up / Login

Login must be anonymous. Users should obtain a unique ID from the neighborhood.

They must be able to prove this identity is theirs. This must be a one way link.

Stored by the client only:
- Public key (PK)
- Private key (pK) (SECRET)
- Neighborhood salt (s) (SECRET)

Stored by both the server and the client:
- ID: unique identifier, generated by the server.

Stored by the server:
- SSID: salted and signed ID, stored by the server. (SECRET)
	- --> the server only stores this as the result of SSID=sign(s+ID, pK)
	- this serves to uniquely link an ID to a PK without ever storing the PK or any associating info

### Assets

Assets are specific data structures that can be exchanged on the Smash / DSNSP networks.

They serve various purposes. The key aspect of an asset is that it belongs to a peer.

Badges are cryptographic assets delivered by a peer. They can be delivered to a specific peer or to a generic owner. In that case, it is recommended to keep the badge private or in a secure crypto wallet.

Assets follow the model key: data. The key is a unique reversed DNS identifier. The data structure is standardized using asset types and common structures.

Example

```json
{
	"com.smashchats.badges.verified": {
		"asset-type": "badges.verified",
		"name": "Verified",
		"description": "This account has been verified.",
		"info-link": "https://badges.smashchats.com/verified",
		"authority": "smashchats.com",
		"recipient": {
			"account": "at://abc123def",
			"signature": "user-signed",
		},
		"date-delivered": "2023-12-25",
		"date-expires": "2024-12-24",
		"issuer": {
			"signature": "authority-signed"
		}
	}
}
```

```json
{
	"fr.gouv.int.identity.checked": {
		"asset-type": "badges.verified",
		"name": "Verified",
		"description": "FR GOV matched this identity with a unique individual.",
		"info-link": "https://interieur.gouv.fr/digital-id",
		"authority": "int.gouv.fr",
		"recipient": {
			// "key": "PK",
			"signature": "user-signed-with-pK",
		},
		"date-delivered": "2023-12-25",
		"date-expires": "2033-12-24",
		"issuer": {
			"signature": "authority-signed",
			"id": "hash",
			"revoked": "https://interieur.gouv.fr/digital-id/revoked/hash"
		}
	}
}
```

Users chose to share the badges they own as they want.

Users could self sign their badges

```json
{
	"com.smashchats.users.handle.badges.profile.attribute": {
		"asset-type": "badges.profile",
		"name": "Attribute",
		"description": "This is a describing attribute.",
		"info-link": "https://badges.smashchats.com/profile",
		"authority": "smashchats.com",
		"recipient": {
			"account": "at://abc123def",
			"signature": "user-signed",
		},
		"date-delivered": "2023-12-25",
		"date-expires": "2024-12-24",
		"issuer": {
			"signature": "authority-signed"
		}
	}
}
```


User profile

The user profile is a standard asset. It is standardized in order to facilite its display across clients.
The user profile is shared by the user the same way a chat message (content) is shared.
The client must know how to receive and process / display profile assets (including updates/diffs).

There is a standard request for a peer to request a user profile. This can be scope limited or broad scope.

Note: TODO: discovery request? 
-> user sends discovery request to neighborhood (=heartbeat?), forwards profile sharing request to profiles 'nearby' with an expiring of -10mn?- if interested they'll reply by sharing their profile in anonymized inbox. if receiver is interested, they will share theirs in reply / enter chat.

albums/stories/... need to find a name for these :) -> collections, folders, streams, 




Streams: ie. send updates when happens??? how to?




TODO: with ChatGPT
- try to match these specs with existing protocols/standards/specs
- rewrite for consistency, clarity and comprehensiveness
- more detailed and serious









MVP1â€”requirements

- Key generation and storage in Keychain/KeyStore
- Tutorial / Onboarding
- Joining a neighborhood and profile completion (demo neighborhood)
- For the Kinksters neighborhood: invite codes, 3 activated to join the graph (at first make it wait for all)
	- --> manual curation and intense sharing
- Only profile discovery and progressive profile sharing back to back with async mailbox (no P2P chat)
- Based on Kink tags and simple graph prediction
- Store Smash / Match and improve graph training and predictions
- Log basic user metrics
- Kinksters neighborhood landing page
- Smash app on the stores


